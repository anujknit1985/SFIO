<!-- <!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>e-Sign Client</title>
loader
<link href="css/pace.min.css" rel="stylesheet" />
<script src="js/pace.min.js"></script>
<script
	src="js/asmcrypto.js"></script>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css" rel="stylesheet" type="text/css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
favicon
<link rel="icon" href="images/India_flag.png" type="image/x-icon" />
Bootstrap core CSS
<link href="css/bootstrap.min.css" rel="stylesheet" />
animate CSS
<link href="css/animate.css" rel="stylesheet" type="text/css" />
Icons CSS
<link href="css/icons.css" rel="stylesheet" type="text/css" />
Custom Style
<link href="css/app-style.css" rel="stylesheet" />
custom external css
<link href="css/customExternal.css" rel="stylesheet" />

</head>

<body>

	Start wrapper
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<div class="logo">
					<img src="images/emblem-dark.png">
					<h3>
						Summon And Notices Management System<br>Serious Fraud
						Investigation Office
					</h3>
				</div>
			</div>
		</div>
	</div>

	<div id="wrapper">
		<nav class="navbar navbar-expand-lg navbar-light nav-color">
			<div class="container">
				<button class="navbar-toggler" type="button" data-toggle="collapse"
					data-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent" aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav mr-auto">
						<li class="nav-item"><a class="nav-link text-white"
							href="index">Home</a></li>
						<li class="nav-item"><a class="nav-link text-white"
							href="login">Sign In</a></li>

						<li class="nav-item"><a class="nav-link text-white"
							href="forgotPass">Forgot Password</a></li>
						<li class="nav-item active"><a class="nav-link text-white"
							href="unsignPdf">e-sign</a></li>
					</ul>
				</div>
			</div>
		</nav>
		<div class="d-flex align-items-center justify-content-center"
			style="margin-top: 20px;">
			<div class="card card-error mb-1 externalPage-color">
				<div class="card-body">
					<div class="card-content p-2">
						<div class="text-center"></div>
						<div class="card-title text-center py-3">e-Sign</div>

						<form id="blob2hash" method="post" th:action="@{/generateHash}"  th:object="${esignDTO}"enctype="multipart/form-data">
							<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							<div class="form-group row">
								<label for="fileUpload" class="col-sm-4 col-form-label">Aadhaar Number</label>
								<div class="position-relative has-icon-right col-md-8">
									<input id="name" type="text" th:field="*{name}">
								</div>
							</div>
							
							<div class="form-group row">
								<label for="fileUpload" class="col-sm-4 col-form-label">User Name</label>
								<div class="position-relative has-icon-right col-md-8">
									<input id="username1" type="text"  th:field="*{username}">
								</div>
							</div>
							<div class="form-group row">
								<label for="fileUpload" class="col-sm-4 col-form-label">Request URL</label>
								<div class="position-relative has-icon-right col-md-8">
									<input id="clientrequestURL1" type="text" th:field="*{clientrequestURL}">
								</div>
							</div>
							
							
							<div class="form-group row">
								<label for="fileUpload" class="col-sm-4 col-form-label">upload</label>
								<div class="position-relative has-icon-right col-md-8">
									<input id="fileUpload" type="file" th:field="*{userImage}">
								</div>
							</div>
							
							<div style="display:none" >
         <textarea rows="60" cols="50"  name = "xml" th:field="*{xml}" th:value="*{xml}" id="xml1"> </textarea></div>
							
							<div class="form-footer">
							<input type="submit" name="" value="Generate Hash"/>
							</div>
						</form>
						<a href="#" onclick="javascript:change_action1(this.form)" class="btn btn-danger">Submit</a>
									 
					</div>
				</div>
			</div>
		</div>

		<form method="post" id="redirectGateway" target="_blank" action="https://nic-esigngateway.nic.in/eSign21/acceptClient">
			<input id="xml" name="xml" type="hidden" /> 
			<input id="clientrequestURL" name="clientrequestURL" type="hidden" />
			<input id="username" name="username" type="hidden" />
			<input type="hidden" name="clientId" value="1" />
         	<input type="hidden" name="userId" value="2" />
			 <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
		</form>


		Start Back To Top Button
		<a href="javaScript:void();" class="back-to-top"><i
			class="fa fa-angle-double-up"></i> </a>
		End Back To Top Button

	</div>
	wrapper

	Bootstrap core JavaScript
	<script src="js/jquery.min.js"></script>

	<script src="js/popper.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/customValidation.js"></script>
	<script type="text/javascript">
	

		function change_action1(form1) {

			//form1.action = "https://10.25.195.14:8443/Dummy/acceptClient";
			//form1.action = "https://nic-esigngateway.nic.in/eSignWS2Test/acceptClient";
			//form1.action = "https://nic-esign2gateway.nic.in/esign/acceptClient";
			//var signed = document.getElementById("xml").value;
			//var clientrequestURL = document.getElementById("clientrequestURL").value;
			//var username = document.getElementById("username").value;
			/* form1.action = "https://nic-esigngateway.nic.in/eSign21/acceptClient?xml="
					+ signed
					+ "&clientrequestURL="
					+ clientrequestURL
					+ "&username=" + username; */
					
			//form1.action = "";
				//	debugger;
					$('#xml').val($('#xml1').val());
					$('#username').val($('#username1').val());
					$('#clientrequestURL').val($('#clientrequestURL1').val());
				$("#redirectGateway").submit();
		}

		
		
		
	</script>

	sidebar-menu js
	<script src="js/sidebar-menu.js"></script>

	Custom scripts
	<script src="js/app-script.js"></script>

</body>

</html>
 -->
 
 <html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/layout" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Signed </title>
</head>
<body>
	<div layout:fragment="content">
		<script type="text/javascript">
	

		function change_action1(form1) {

			//form1.action = "https://10.25.195.14:8443/Dummy/acceptClient";
			//form1.action = "https://nic-esigngateway.nic.in/eSignWS2Test/acceptClient";
			//form1.action = "https://nic-esign2gateway.nic.in/esign/acceptClient";
			//var signed = document.getElementById("xml").value;
			//var clientrequestURL = document.getElementById("clientrequestURL").value;
			//var username = document.getElementById("username").value;
			/* form1.action = "https://nic-esigngateway.nic.in/eSign21/acceptClient?xml="
					+ signed
					+ "&clientrequestURL="
					+ clientrequestURL
					+ "&username=" + username; */
					
			//form1.action = "";
				//	debugger;
					$('#xml').val($('#xml1').val());
					$('#username').val($('#username1').val());
					$('#clientrequestURL').val($('#clientrequestURL1').val());
				$("#redirectGateway").submit();
		}

		/* function getesponse()
		{
			$.ajax({
				// crossDomain: true,
			        type: "GET",
			        url: "https://nic-esigngateway.nic.in/eSign21/response?rs=http://localhost:9090/SNMS/hello1",
			        //contentType : "application/json; charset=utf-8",
			        cache: false,
			        timeout: 600000,
			        success: function(data){
			        	alert(data);
			        	},
			        	
			 error : function(xhr, status, error) {
		        alert('error in getting e-sign response');
		      }
			 });
		} */
		
		
		
	</script>

		<div class="row pt-2 pb-2">
			<div class="col-sm-5">
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a href="">Home</a></li>
					<li class="breadcrumb-item active" aria-current="page">Signed </li>
				</ol>
			</div>
		</div>


		<div class="row">
			<div class="col-lg-12">
				<div class="card">
					<div class="card-body">
						<h4 class="form-header text-uppercase">
							<i class="fa fa-address-book-o"></i> Signed 
						</h4>

						<!-- <form th:action="@{/createNotice}" method="post"
							class="needs-validation" th:object="${caseDetails}"> -->
							<form id="blob2hash" method="post" th:action="@{/generateHash}"  th:object="${esignDTO}"enctype="multipart/form-data">
							<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
							<div class="form-group row">
								<label for="fileUpload" class="col-sm-4 col-form-label">Aadhaar Number</label>
								<div class="position-relative has-icon-right col-md-8">
									<input id="name" type="text" th:field="*{name}">
								</div>
							</div>
							
							<div class="form-group row">
								<label for="fileUpload" class="col-sm-4 col-form-label">User Name</label>
								<div class="position-relative has-icon-right col-md-8">
									<input id="username1" type="text"  th:field="*{username}">
								</div>
							</div>
							<div class="form-group row">
								<label for="fileUpload" class="col-sm-4 col-form-label">Request URL</label>
								<div class="position-relative has-icon-right col-md-8">
									<input id="clientrequestURL1" type="text" th:field="*{clientrequestURL}">
								</div>
							</div>
							
							
							<div class="form-group row">
								<label for="fileUpload" class="col-sm-4 col-form-label">upload</label>
								<div class="position-relative has-icon-right col-md-8">
									<input id="fileUpload" type="file" th:field="*{userImage}">
								</div>
							</div>
							
							<div style="display:none" >
         <textarea rows="60" cols="50"  name = "xml" th:field="*{xml}" th:value="*{xml}" id="xml1"> </textarea></div>
							
							<div class="form-footer">
							<input type="submit" name="" value="Generate Hash"/>
							</div>
						</form>
						<a href="#" onclick="javascript:change_action1(this.form)" class="btn btn-danger">Submit</a>
						<!-- <a href="#" class="btn btn-danger" onclick="getesponse();">response</a> -->
					</div>

				</div>
			</div>
		</div>
		<form method="post" id="redirectGateway" target="_blank" action="https://nic-esigngateway.nic.in/eSign21/acceptClient">
			<input id="xml" name="xml" type="hidden" /> 
			<input id="clientrequestURL" name="clientrequestURL" type="hidden" />
			<input id="username" name="username" type="hidden" />
			<input type="hidden" name="clientId" value="1" />
         	<input type="hidden" name="userId" value="2" />
			 <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
		</form>

	</div>

</body>
</html>