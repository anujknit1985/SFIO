<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/layout" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">


<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Add New Designation</title>
</head>

<body>

	<div layout:fragment="content">

		<div class="row pt-2 pb-2">
			<!-- <div class="col-sm-9">
				<h5 class="page-title"></h5>
			</div> -->
			<div class="col-sm-3">
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a href="">Home</a></li>
					<li class="breadcrumb-item active" aria-current="page">Add New
						Designation</li>
				</ol>
			</div>
		</div>


		<form th:action="@{/addNewDesiganation}" method="post"
			class="needs-validation" th:object="${addDesignation}">
 <input type="hidden" th:field = "*{Id}" >
			<div th:if="${message}" class="alert alert-success alert-dismissible"
				role="alert">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				<div class="alert-icon">
					<i class="fa fa-check"></i>
				</div>
				<div class="alert-message">
					<span th:text="${message}"></span>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-12">
					<div class="card">
						<div class="card-body">
							<h4 class="form-header text-uppercase">
								<i class="fa fa-sitemap"></i> Add New Designation
							</h4>

							<div class="form-group row">
                                 
                                 <label for="input-16" class="col-sm-2 col-form-label">Designation
									Type <span class="text-danger">*</span> </label>
								<div class="col-sm-4">
									<select class="form-control" th:field="*{type}"
										id="type">
										<option value="0">Choose Type</option>
										<option value="U">User</option>
										<option value="C">Company</option>
										

									</select> <span class="text-danger" th:errors="*{type}"></span>

								</div>
                                 
                                 
								<label for="input-10" class="col-sm-2 col-form-label">Designation
									Name <span class="text-danger">*</span></label>
								<div class="col-sm-4">
									<input type="text" class="inputTxt form-control"
										autocomplete="off" id="designation" name="designation"
										th:field="*{designation}" placeholder="Designation Name"
										 required="required" maxlength="40"/>
										
										<span class="text-danger"
										th:if="${#fields.hasErrors('designation')}"
										th:errors="*{designation}">Designation Error</span>
								</div>
							</div>	
								<div class="form-group row">
                        
								<label for="input-10" class="col-sm-2 col-form-label">Designation
									Description <span class="text-danger">*</span></label>
								<div class="col-sm-4">
									<input type="text" class="inputTxt form-control"
										autocomplete="off" id="description" name="description"
										th:field="*{description}" placeholder="Designation description"
										 required="required" maxlength="40"/>
										
										<span class="text-danger"
										th:if="${#fields.hasErrors('description')}"
										th:errors="*{description}">Description Error</span>
								</div>
								
</div>
								<div class="col-sm-4">
                                     <th:block th:if="${addDesignation.editdesgi != true}">  
									<button type="submit" class="btn btn-success">
										<i class="fa fa-plus"></i> Add
									</button>
</th:block>

 <th:block th:if="${addDesignation.editdesgi == true}">  
									<button type="submit" class="btn btn-success">
										<i class="fa fa-plus"></i> UPDATE
									</button>
</th:block>
									<button type="reset" class="btn btn-danger">
										<i class="fa fa-times"></i> CANCEL
									</button>
								</div>

							


						</div>
					</div>
				</div>
			</div>

		</form>
<div class="row">
			<div class="col-lg-12">
				<div class="card">
					<div class="card-body">
						<h4 class="form-header text-uppercase">
							<i class="fa fa-user"></i> Designation Details
						</h4>

							<div class="form-group row">
								<table class="table table-striped table-bordered" id="desigTable">
									<thead class="bg-info text-white">
										<tr>
											<th>S.No.</th>
											<th>Designation Name</th>
											<th>Designation Type</th>
											<!-- <th>Action</th> -->
											
										</tr>
									</thead>
									<tbody>
									 <tr th:each="p,stats: ${listDesignation}">
											 <td th:text="${stats.count}"></td> 
											<td th:text="${p.designation}"></td>
											<td> <th:block th:if="${p.type == 'C'}">
											<span th:text="company"></span>
											</th:block>
											<th:block th:if="${p.type == 'U'}">
											<span th:text="User"></span>
											</th:block>
											<th:block th:if="${p.type == 'S'}">
											<span th:text="User"></span>
											</th:block>
											
											</td>
										</tr> 
									</tbody>

								</table>
							</div>
					

					</div>

				</div>
			</div>
		</div>
		
		
				<script src="plugins/bootstrap-datatable/js/jquery.dataTables.min.js"></script>
		<script src="plugins/bootstrap-datatable/js/dataTables.bootstrap4.min.js"></script>
		<script type="text/javascript">
		$(document).ready(function(){
			
			 var table = $('#desigTable').DataTable( {
//		 	        lengthChange: false,
			        buttons: [ 'copy', 'excel', 'pdf', 'print', 'colvis' ]
			      } );
		});
		
		</script>	

	</div>

</body>
</html>